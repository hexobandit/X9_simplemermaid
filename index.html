<!DOCTYPE html>
<html lang="en">
<head>

  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>SimpleMermaid.com - Simple Online Mermaid Diagram Editor</title>

  <!-- ✅ SEO Meta Tags -->
  <meta name="description" content="Create and share flowcharts, sequence diagrams, Gantt charts instantly with SimpleMermaid. Generate shareable links and export to PNG/PDF. Free online editor with live preview, multiple export formats, and collaboration features." />
  <meta name="keywords" content="Mermaid.js, flowchart editor, sequence diagrams, Gantt charts, online diagram tool, UML, markdown diagrams, network diagrams, visualization, SimpleMermaid, shareable diagrams, collaborative diagrams, share flowcharts, diagram links, export PNG, export PDF, download diagrams" />
  <meta name="author" content="SimpleMermaid.com" />

  <!-- ✅ Open Graph (Facebook & LinkedIn) -->
  <meta property="og:title" content="SimpleMermaid.com - Online Mermaid Diagram Editor" />
  <meta property="og:description" content="Create and instantly share flowcharts, sequence diagrams, Gantt charts with SimpleMermaid. Generate shareable links and export to PNG/PDF for collaborative diagramming. Free Mermaid.js editor with live preview and multiple export formats." />
  <meta property="og:image" content="https://simplemermaid.com/simplemermaid.png" />
  <meta property="og:url" content="https://simplemermaid.com" />
  <meta property="og:type" content="website" />

  <!-- ✅ Twitter (X) Meta Tags -->
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="SimpleMermaid - The Best Online Mermaid.js Editor" />
  <meta name="twitter:description" content="Create and share flowcharts, sequence diagrams, and Gantt charts instantly. Generate shareable links and export to PNG/PDF. Free online collaborative editor with multiple export formats." />
  <meta name="twitter:image" content="https://simplemermaid.com/simplemermaid.png" />
  <meta name="twitter:site" content="@simplemermaid" />

  <!-- ✅ Google Ads Meta Tags -->
  <meta name="google-adsense-account" content="ca-pub-8641410034592329">

  <!-- ✅ Structured Data (JSON-LD for Rich Results) -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "SoftwareApplication",
    "name": "SimpleMermaid",
    "description": "An online Mermaid.js editor for creating and sharing flowcharts, sequence diagrams, Gantt charts, and more with real-time preview, shareable links, and PNG/PDF export capabilities for seamless collaboration.",
    "url": "https://simplemermaid.com/simplemermaid.png",
    "image": "simplemermaid.png",
    "operatingSystem": "Web",
    "applicationCategory": "Diagramming Tool",
    "offers": {
      "@type": "Offer",
      "price": "0",
      "priceCurrency": "USD"
    }
  }
  </script>

  <!-- ✅ Favicon -->
  <link rel="icon" type="image/png" href="https://simplemermaid.com/favicon.png">




  <!-- ✅ Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600&family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
  <style>
    :root {
      /* Modern 2025 Color Palette */
      --primary: #6366f1;
      --primary-hover: #4f46e5;
      --primary-light: #a5b4fc;
      --secondary: #64748b;
      --success: #10b981;
      --warning: #f59e0b;
      --danger: #ef4444;
      --info: #06b6d4;
      
      /* Background System */
      --bg-primary: #ffffff;
      --bg-secondary: #f8fafc;
      --bg-tertiary: #f1f5f9;
      --surface: #ffffff;
      --surface-hover: #f8fafc;
      
      /* Text Colors */
      --text-primary: #0f172a;
      --text-secondary: #475569;
      --text-muted: #64748b;
      --text-inverse: #ffffff;
      
      /* Border & Shadow */
      --border-color: #e2e8f0;
      --border-light: #f1f5f9;
      --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.05);
      --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
      --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
      --shadow-xl: 0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1);
      
      /* Spacing Scale */
      --space-xs: 0.25rem;
      --space-sm: 0.5rem;
      --space-md: 1rem;
      --space-lg: 1.5rem;
      --space-xl: 2rem;
      --space-2xl: 3rem;
      
      /* Border Radius */
      --radius-sm: 0.375rem;
      --radius-md: 0.5rem;
      --radius-lg: 0.75rem;
      --radius-xl: 1rem;
      
      /* Typography */
      --font-size-xs: 0.75rem;
      --font-size-sm: 0.875rem;
      --font-size-base: 1rem;
      --font-size-lg: 1.125rem;
      --font-size-xl: 1.25rem;
      --font-size-2xl: 1.5rem;
      --font-size-3xl: 1.875rem;
      --font-size-4xl: 2.25rem;
      
      /* Layout */
      --container-max: 1280px;
      --header-height: 4rem;
    }

    /* Dark Theme */
    [data-theme="dark"] {
      --bg-primary: #0f172a;
      --bg-secondary: #1e293b;
      --bg-tertiary: #334155;
      --surface: #1e293b;
      --surface-hover: #334155;
      
      --text-primary: #f8fafc;
      --text-secondary: #cbd5e1;
      --text-muted: #94a3b8;
      --text-inverse: #0f172a;
      
      --border-color: #334155;
      --border-light: #475569;
      
      --primary: #818cf8;
      --primary-hover: #6366f1;
    }

    /* Terminal Theme - Oldschool green phosphor CRT monitor */
    [data-theme="colorful"] {
      --bg-primary: #0a0a0a;
      --bg-secondary: #0d0d0d;
      --bg-tertiary: #111111;
      --surface: #0f0f0f;
      --surface-hover: #1a1a1a;
      
      --text-primary: #00ff00;
      --text-secondary: #00cc00;
      --text-muted: #009900;
      
      --border-color: #00ff00;
      --border-light: rgba(0, 255, 0, 0.3);
      
      --primary: #00ff00;
      --primary-hover: #33ff33;
      --accent: #00ffaa;
      --accent-secondary: #00ff88;
      --text-inverse: #0a0a0a;
    }

    /* Terminal theme text effects */
    [data-theme="colorful"] * {
      font-family: 'Courier New', 'SF Mono', Monaco, 'Cascadia Code', monospace !important;
    }

    /* Reset */
    *, *::before, *::after {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    html {
      scroll-behavior: smooth;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
      font-size: calc(var(--font-size-base) * 0.9);
      line-height: 1.6;
      color: var(--text-primary);
      background: var(--bg-primary);
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      min-height: 100vh;
      zoom: 0.9;
    }

    /* Layout Components */
    .app-container {
      max-width: var(--container-max);
      margin: 0 auto;
      padding: var(--space-lg);
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      gap: var(--space-lg);
    }

    .card {
      background: var(--surface);
      border: 1px solid var(--border-color);
      border-radius: var(--radius-lg);
      box-shadow: var(--shadow-sm);
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      overflow: hidden;
    }

    .card:hover {
      box-shadow: var(--shadow-md);
      border-color: var(--primary-light);
    }

    .card-header {
      padding: var(--space-lg);
      border-bottom: 1px solid var(--border-light);
      background: var(--bg-secondary);
    }

    .card-body {
      padding: var(--space-lg);
    }

    /* Typography */
    h1 {
      font-size: var(--font-size-4xl);
      font-weight: 700;
      letter-spacing: -0.025em;
      color: var(--text-primary);
      margin-bottom: var(--space-md);
    }

    h2 {
      font-size: var(--font-size-3xl);
      font-weight: 600;
      color: var(--text-primary);
      margin-bottom: var(--space-lg);
    }

    h3 {
      font-size: var(--font-size-2xl);
      font-weight: 600;
      color: var(--text-primary);
      margin-bottom: var(--space-md);
    }

    h4 {
      font-size: var(--font-size-xl);
      font-weight: 600;
      color: var(--text-primary);
      margin-bottom: var(--space-sm);
    }

    p {
      color: var(--text-secondary);
      margin-bottom: var(--space-md);
      line-height: 1.7;
    }

    .lead {
      font-size: var(--font-size-lg);
      color: var(--text-secondary);
      font-weight: 400;
    }

    .text-muted {
      color: var(--text-muted);
    }

    /* Lists */
    ul, ol {
      padding-left: var(--space-lg);
      margin-bottom: var(--space-md);
    }

    li {
      color: var(--text-secondary);
      margin-bottom: var(--space-xs);
    }

    /* Header Section */
    .header-section {
      text-align: center;
      padding: var(--space-lg) 0;
    }

    .header-section p {
      max-width: 600px;
      margin: 0 auto var(--space-lg);
    }

    /* Button System */
    .btn {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: var(--space-xs);
      padding: var(--space-sm) var(--space-lg);
      font-size: var(--font-size-sm);
      font-weight: 500;
      line-height: 1.5;
      border: 1px solid transparent;
      border-radius: var(--radius-md);
      cursor: pointer;
      transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
      text-decoration: none;
      user-select: none;
      white-space: nowrap;
    }

    .btn:disabled {
      opacity: 0.6;
      cursor: not-allowed;
    }

    .btn-primary {
      background: var(--primary);
      border-color: var(--primary);
      color: var(--text-inverse);
    }

    .btn-primary:hover:not(:disabled) {
      background: var(--primary-hover);
      border-color: var(--primary-hover);
      transform: translateY(-1px);
      box-shadow: var(--shadow-md);
    }

    .btn-secondary {
      background: transparent;
      border-color: var(--border-color);
      color: var(--text-secondary);
    }

    .btn-secondary:hover:not(:disabled) {
      background: var(--surface-hover);
      border-color: var(--primary);
      color: var(--primary);
    }

    .btn-sm {
      padding: var(--space-xs) var(--space-sm);
      font-size: var(--font-size-xs);
    }

    .btn-lg {
      padding: var(--space-md) var(--space-xl);
      font-size: var(--font-size-lg);
    }

    /* Fixed Action Buttons */
    .fixed-controls {
      position: fixed;
      top: var(--space-lg);
      right: var(--space-lg);
      z-index: 1000;
      display: flex;
      flex-direction: column;
      gap: var(--space-sm);
    }

    .theme-toggle, .layout-toggle {
      background: var(--surface);
      border: 1px solid var(--border-color);
      border-radius: var(--radius-lg);
      padding: var(--space-md);
      box-shadow: var(--shadow-lg);
      min-width: 56px;
      height: 56px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: var(--font-size-xl);
      cursor: pointer;
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    }

    .theme-toggle:hover, .layout-toggle:hover {
      transform: scale(1.1);
      box-shadow: var(--shadow-xl);
      border-color: var(--primary);
    }

    .theme-toggle:active, .layout-toggle:active {
      transform: scale(0.95);
    }

    /* Controls Section */
    .controls-section {
      display: flex;
      flex-wrap: wrap;
      gap: var(--space-md);
      justify-content: center;
      align-items: center;
      padding: var(--space-md) 0;
    }

    /* Category Dropdowns */
    .dropdown {
      position: relative;
      display: inline-block;
    }

    .dropdown-toggle {
      display: inline-flex;
      align-items: center;
      gap: var(--space-xs);
      padding: var(--space-sm) var(--space-lg);
      background: var(--surface);
      border: 1px solid var(--border-color);
      border-radius: var(--radius-md);
      color: var(--text-primary);
      font-size: var(--font-size-sm);
      font-weight: 500;
      cursor: pointer;
      transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
      user-select: none;
    }

    .dropdown-toggle:hover {
      background: var(--surface-hover);
      border-color: var(--primary);
      box-shadow: var(--shadow-sm);
    }

    .dropdown-toggle[aria-expanded="true"] {
      background: var(--primary);
      border-color: var(--primary);
      color: var(--text-inverse);
    }

    .dropdown-icon {
      width: 16px;
      height: 16px;
      transition: transform 0.2s;
    }

    .dropdown-toggle[aria-expanded="true"] .dropdown-icon {
      transform: rotate(180deg);
    }

    .dropdown-menu {
      position: absolute;
      top: calc(100% + var(--space-xs));
      left: 0;
      min-width: 200px;
      background: var(--bg-secondary);
      border: 1px solid var(--border-color);
      border-radius: var(--radius-md);
      box-shadow: var(--shadow-lg);
      opacity: 0;
      visibility: hidden;
      transform: translateY(-8px);
      transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
      z-index: 1000;
      max-height: 320px;
      overflow-y: auto;
    }

    .dropdown-menu.show {
      opacity: 1;
      visibility: visible;
      transform: translateY(0);
    }

    .dropdown-item {
      display: block;
      width: 100%;
      padding: var(--space-sm) var(--space-lg);
      color: var(--text-secondary);
      font-size: var(--font-size-sm);
      text-align: left;
      background: none;
      border: none;
      cursor: pointer;
      transition: all 0.2s;
      border-radius: 0;
    }

    .dropdown-item:hover {
      background: var(--surface-hover);
      color: var(--primary);
    }

    .dropdown-item:first-child {
      border-radius: var(--radius-sm) var(--radius-sm) 0 0;
    }

    .dropdown-item:last-child {
      border-radius: 0 0 var(--radius-sm) var(--radius-sm);
    }

    /* Editor Section - Default Horizontal Layout */
    .editor-section {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: var(--space-lg);
      min-height: 500px;
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    }

    /* Vertical Layout Mode */
    .editor-section.vertical-layout {
      grid-template-columns: 1fr;
      grid-template-rows: auto 1fr;
    }

    .editor-section.vertical-layout .editor-panel {
      order: 1;
    }

    .editor-section.vertical-layout .preview-panel {
      order: 2;
    }

    .editor-section.vertical-layout .code-editor {
      min-height: 250px;
      max-height: 400px;
    }

    .editor-section.vertical-layout .preview-container {
      min-height: 300px;
    }

    .editor-panel, .preview-panel {
      display: flex;
      flex-direction: column;
    }

    .panel-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: var(--space-md) var(--space-lg);
      background: var(--bg-secondary);
      border-bottom: 1px solid var(--border-light);
      border-radius: var(--radius-lg) var(--radius-lg) 0 0;
    }

    .panel-footer {
      padding: var(--space-md) var(--space-lg);
      background: var(--bg-secondary);
      border-top: 1px solid var(--border-light);
      border-radius: 0 0 var(--radius-lg) var(--radius-lg);
    }

    .preview-actions {
      display: flex;
      gap: var(--space-sm);
      justify-content: center;
      align-items: center;
      flex-wrap: wrap;
    }
    
    .export-buttons {
      display: flex;
      gap: var(--space-xs);
      align-items: center;
    }


    /* Share Link Modal */
    .share-modal {
      display: none;
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background: var(--surface);
      border: 1px solid var(--border-color);
      border-radius: var(--radius-lg);
      padding: var(--space-xl);
      box-shadow: var(--shadow-xl);
      z-index: 2000;
      max-width: 500px;
      width: 90%;
    }

    .share-modal.show {
      display: block;
    }

    .modal-overlay {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(0, 0, 0, 0.5);
      z-index: 1999;
    }

    .modal-overlay.show {
      display: block;
    }

    .share-input-group {
      display: flex;
      gap: var(--space-sm);
      margin-top: var(--space-md);
    }

    .share-input {
      flex: 1;
      padding: var(--space-sm);
      border: 1px solid var(--border-color);
      border-radius: var(--radius-md);
      font-family: monospace;
      font-size: var(--font-size-sm);
      background: var(--bg-tertiary);
      color: var(--text-primary);
    }

    .copy-feedback {
      color: var(--success);
      font-size: var(--font-size-sm);
      margin-top: var(--space-sm);
      opacity: 0;
      transition: opacity 0.3s;
    }

    .copy-feedback.show {
      opacity: 1;
    }

    .panel-title {
      font-size: var(--font-size-sm);
      font-weight: 600;
      color: var(--text-primary);
      margin: 0;
    }

    .panel-body {
      flex: 1;
      padding: 0;
      background: var(--surface);
      border-radius: 0 0 var(--radius-lg) var(--radius-lg);
      overflow: hidden;
    }


    /* Form Controls */
    .form-control {
      width: 100%;
      padding: var(--space-md);
      font-size: var(--font-size-sm);
      line-height: 1.5;
      color: var(--text-primary);
      background: var(--surface);
      border: 1px solid var(--border-color);
      border-radius: var(--radius-md);
      transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
      resize: vertical;
    }

    .form-control:focus {
      outline: none;
      border-color: var(--primary);
      box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.1);
    }

    /* Code Editor */
    .code-editor {
      height: 100%;
      min-height: 400px;
      font-family: 'SF Mono', Monaco, 'Cascadia Code', 'Roboto Mono', Consolas, 'Courier New', monospace;
      font-size: var(--font-size-sm);
      line-height: 1.6;
      background: var(--bg-tertiary);
      border: none;
      border-radius: 0;
      resize: none;
      tab-size: 2;
    }

    .code-editor:focus {
      box-shadow: none;
      border-color: transparent;
    }

    /* Preview Panel */
    .preview-container {
      height: 100%;
      min-height: 400px;
      display: flex;
      align-items: center;
      justify-content: center;
      background: var(--surface);
      border-radius: 0;
      overflow: auto;
      padding: var(--space-lg);
    }

    .preview-container svg {
      max-width: 100%;
      height: auto;
      display: block; /* Prevent inline SVG layout issues */
    }

    .preview-error {
      color: var(--danger);
      font-size: var(--font-size-sm);
      text-align: center;
      padding: var(--space-lg);
    }

    /* Mermaid SVG Theme Adjustments */
    /* Dark Theme SVG Fixes */
    [data-theme="dark"] #mermaid-output svg {
      background: transparent;
    }

    [data-theme="dark"] #mermaid-output svg .flowchart-link,
    [data-theme="dark"] #mermaid-output svg .edgePath path,
    [data-theme="dark"] #mermaid-output svg .edge-pattern-solid,
    [data-theme="dark"] #mermaid-output svg path,
    [data-theme="dark"] #mermaid-output svg line,
    [data-theme="dark"] #mermaid-output svg polygon,
    [data-theme="dark"] #mermaid-output svg polyline {
      stroke: #e2e8f0 !important;
      stroke-width: 2px !important;
    }

    [data-theme="dark"] #mermaid-output svg .arrowheadPath,
    [data-theme="dark"] #mermaid-output svg .arrowMarkerPath,
    [data-theme="dark"] #mermaid-output svg marker path {
      fill: #e2e8f0 !important;
      stroke: #e2e8f0 !important;
    }

    /* Node backgrounds in dark mode */
    [data-theme="dark"] #mermaid-output svg rect,
    [data-theme="dark"] #mermaid-output svg circle,
    [data-theme="dark"] #mermaid-output svg ellipse,
    [data-theme="dark"] #mermaid-output svg polygon {
      fill: var(--surface) !important;
      stroke: #e2e8f0 !important;
      stroke-width: 2px !important;
    }
    
    /* Special node types - database cylinders and secrets diamonds in dark mode */
    [data-theme="dark"] #mermaid-output svg .nodeLabel,
    [data-theme="dark"] #mermaid-output svg path[d*="C"],
    [data-theme="dark"] #mermaid-output svg g[class*="node"] rect,
    [data-theme="dark"] #mermaid-output svg g[class*="node"] path,
    [data-theme="dark"] #mermaid-output svg .node path,
    [data-theme="dark"] #mermaid-output svg polygon {
      fill: var(--surface) !important;
      stroke: #e2e8f0 !important;
      stroke-width: 2px !important;
    }

    /* Edge labels in light theme - make them visible with grey text and white background */
    #mermaid-output svg .edgeLabel {
      background-color: #ffffff !important;
      background: #ffffff !important;
    }
    
    #mermaid-output svg .edgeLabel text,
    #mermaid-output svg .edgeLabel span,
    #mermaid-output svg .edgeLabel tspan {
      fill: #666666 !important;
      color: #666666 !important;
      opacity: 1 !important;
    }
    
    #mermaid-output svg .edgeLabel rect {
      fill: #ffffff !important;
      opacity: 1 !important;
    }
    
    /* Firefox-specific edge path fixes */
    #mermaid-output svg .edgePath path {
      stroke-width: 1.5px !important;
      fill: none !important;
    }
    
    #mermaid-output svg marker path {
      stroke-width: 1px !important;
    }

    /* Text color in dark mode - make text white for visibility on dark backgrounds */
    [data-theme="dark"] #mermaid-output svg text,
    [data-theme="dark"] #mermaid-output svg tspan {
      fill: #ffffff !important;
      color: #ffffff !important;
    }

    /* Specific text elements that need white text in dark mode */
    [data-theme="dark"] #mermaid-output svg .nodeLabel,
    [data-theme="dark"] #mermaid-output svg .cluster-label text,
    [data-theme="dark"] #mermaid-output svg foreignObject div {
      color: #ffffff !important;
    }
    
    /* Edge labels in dark theme - dark text on white background for visibility */
    [data-theme="dark"] #mermaid-output svg .edgeLabel text,
    [data-theme="dark"] #mermaid-output svg .edgeLabel span,
    [data-theme="dark"] #mermaid-output svg .edgeLabel tspan {
      fill: #333333 !important;
      color: #333333 !important;
    }

    /* Database cylinder nodes - black text on white background DOES NOT WORK*/
    [data-theme="dark"] #mermaid-output svg g[id*="flowchart-db"] text,
    [data-theme="dark"] #mermaid-output svg g[id*="db"] text,
    [data-theme="dark"] #mermaid-output svg .node[id*="db"] text,
    [data-theme="dark"] #mermaid-output svg rect[class*="cylinderBkg"] + text {
      color: #000000 !important;
      fill: #000000 !important;
    }


    /* Fix for HTML-based labels in dark mode */
    [data-theme="dark"] #mermaid-output svg foreignObject {
      color: #ffffff !important;
    }

    [data-theme="dark"] #mermaid-output svg foreignObject > div {
      color: #ffffff !important;
      background: transparent !important;
    }

    /* Terminal Theme SVG - Green phosphor terminal styling */
    [data-theme="colorful"] #mermaid-output svg .flowchart-link,
    [data-theme="colorful"] #mermaid-output svg .edgePath path,
    [data-theme="colorful"] #mermaid-output svg .edge-pattern-solid,
    [data-theme="colorful"] #mermaid-output svg path,
    [data-theme="colorful"] #mermaid-output svg line,
    [data-theme="colorful"] #mermaid-output svg polygon,
    [data-theme="colorful"] #mermaid-output svg polyline {
      stroke: #00ff00 !important;
      stroke-width: 2px !important;
    }

    [data-theme="colorful"] #mermaid-output svg .arrowheadPath,
    [data-theme="colorful"] #mermaid-output svg .arrowMarkerPath,
    [data-theme="colorful"] #mermaid-output svg marker path {
      fill: #00ff00 !important;
      stroke: #00ff00 !important;
    }

    /* Node backgrounds in terminal mode - green terminal styling */
    [data-theme="colorful"] #mermaid-output svg rect {
      fill: #001100 !important;
      stroke: #00ff00 !important;
      stroke-width: 2px !important;
    }
    
    [data-theme="colorful"] #mermaid-output svg circle,
    [data-theme="colorful"] #mermaid-output svg ellipse {
      fill: #001100 !important;
      stroke: #00ffaa !important;
      stroke-width: 2px !important;
    }
    
    /* Special node types - database cylinders and secrets diamonds */
    [data-theme="colorful"] #mermaid-output svg .nodeLabel,
    [data-theme="colorful"] #mermaid-output svg path[d*="C"],
    [data-theme="colorful"] #mermaid-output svg g[class*="node"] rect,
    [data-theme="colorful"] #mermaid-output svg g[class*="node"] path,
    [data-theme="colorful"] #mermaid-output svg .node path,
    [data-theme="colorful"] #mermaid-output svg polygon {
      fill: #001100 !important;
      stroke: #00ff00 !important;
      stroke-width: 2px !important;
    }

    /* Text in terminal mode - green phosphor glow */
    [data-theme="colorful"] #mermaid-output svg text,
    [data-theme="colorful"] #mermaid-output svg tspan {
      fill: #00ff00 !important;
      color: #00ff00 !important;
      font-weight: 600 !important;
      font-family: 'Courier New', monospace !important;
    }

    /* Specific text elements for terminal mode */
    [data-theme="colorful"] #mermaid-output svg .nodeLabel,
    [data-theme="colorful"] #mermaid-output svg .cluster-label text,
    [data-theme="colorful"] #mermaid-output svg foreignObject div {
      color: #00ff00 !important;
    }
    
    /* Edge labels in terminal theme - green terminal style */
    [data-theme="colorful"] #mermaid-output svg .edgeLabel {
      background-color: #001100 !important;
      background: #001100 !important;
    }
    
    [data-theme="colorful"] #mermaid-output svg .edgeLabel rect {
      fill: #001100 !important;
      stroke: #00ff00 !important;
      stroke-width: 1px !important;
      opacity: 0.95 !important;
    }
    
    [data-theme="colorful"] #mermaid-output svg .edgeLabel text,
    [data-theme="colorful"] #mermaid-output svg .edgeLabel span,
    [data-theme="colorful"] #mermaid-output svg .edgeLabel tspan {
      fill: #00ff00 !important;
      color: #00ff00 !important;
      opacity: 1 !important;
      font-family: 'Courier New', monospace !important;
    }

    [data-theme="colorful"] #mermaid-output svg foreignObject > div {
      color: #00ff00 !important;
      background: transparent !important;
    }

    /* Additional Mermaid elements for all dark themes */
    [data-theme="dark"] #mermaid-output svg .actor,
    [data-theme="dark"] #mermaid-output svg .note,
    [data-theme="dark"] #mermaid-output svg .task,
    [data-theme="dark"] #mermaid-output svg .section,
    [data-theme="dark"] #mermaid-output svg .grid .tick line,
    [data-theme="dark"] #mermaid-output svg .statediagram-state rect,
    [data-theme="dark"] #mermaid-output svg .er.relationshipLine {
      stroke: #e2e8f0 !important;
    }

    [data-theme="dark"] #mermaid-output svg .node rect,
    [data-theme="dark"] #mermaid-output svg .node circle,
    [data-theme="dark"] #mermaid-output svg .node ellipse,
    [data-theme="dark"] #mermaid-output svg .node polygon,
    [data-theme="dark"] #mermaid-output svg .cluster rect {
      stroke: #e2e8f0 !important;
      stroke-width: 2px !important;
    }

    /* Sequence diagram improvements for dark theme */
    [data-theme="dark"] #mermaid-output svg .messageText,
    [data-theme="dark"] #mermaid-output svg .labelText,
    [data-theme="dark"] #mermaid-output svg .loopText {
      fill: var(--text-primary) !important;
    }

    /* Gantt chart improvements for dark theme */
    [data-theme="dark"] #mermaid-output svg .section0,
    [data-theme="dark"] #mermaid-output svg .section1,
    [data-theme="dark"] #mermaid-output svg .section2,
    [data-theme="dark"] #mermaid-output svg .section3 {
      fill: var(--surface) !important;
    }

    /* Similar adjustments for terminal theme */
    [data-theme="colorful"] #mermaid-output svg .actor,
    [data-theme="colorful"] #mermaid-output svg .note,
    [data-theme="colorful"] #mermaid-output svg .task,
    [data-theme="colorful"] #mermaid-output svg .section,
    [data-theme="colorful"] #mermaid-output svg .grid .tick line,
    [data-theme="colorful"] #mermaid-output svg .statediagram-state rect,
    [data-theme="colorful"] #mermaid-output svg .er.relationshipLine {
      stroke: #00ff00 !important;
    }

    /* Code Examples */
    .code-example {
      background: var(--bg-tertiary);
      border: 1px solid var(--border-color);
      border-radius: var(--radius-md);
      padding: var(--space-lg);
      margin: var(--space-md) 0;
      overflow-x: auto;
      font-family: 'SF Mono', Monaco, 'Cascadia Code', 'Roboto Mono', Consolas, 'Courier New', monospace;
      font-size: var(--font-size-sm);
      line-height: 1.6;
      color: var(--text-primary);
      white-space: pre-line;
    }

    .code-example pre {
      margin: 0;
      white-space: pre;
      overflow-x: auto;
    }

    /* Documentation Sections */
    .docs-section {
      margin: 0;
    }

    .docs-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: var(--space-lg);
      margin: var(--space-lg) 0;
    }

    .docs-card {
      background: var(--surface);
      border: 1px solid var(--border-color);
      border-radius: var(--radius-lg);
      padding: var(--space-lg);
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    }

    .docs-card:hover {
      border-color: var(--primary-light);
      box-shadow: var(--shadow-md);
      transform: translateY(-2px);
    }

    /* Google Ads Section */
    .ads-section {
      margin: var(--space-xl) 0;
      display: flex;
      justify-content: center;
    }

    .ads-container {
      width: 100%;
      max-width: 800px;
      margin: 0 auto;
    }

    .ad-placeholder {
      background: var(--surface);
      border: 1px solid var(--border-color);
      border-radius: var(--radius-lg);
      padding: var(--space-md);
      text-align: center;
      box-shadow: var(--shadow-sm);
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    }

    .ad-label {
      font-size: var(--font-size-xs);
      color: var(--text-muted);
      margin-bottom: var(--space-sm);
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }

    .ad-content {
      min-height: 250px;
      display: flex;
      align-items: center;
      justify-content: center;
      background: var(--bg-tertiary);
      border-radius: var(--radius-md);
      border: 1px dashed var(--border-light);
    }

    .ad-demo {
      color: var(--text-secondary);
      font-size: var(--font-size-lg);
      font-weight: 600;
    }

    /* Learning Section */
    .learning-section {
      background: var(--surface);
      border: 1px solid var(--border-color);
      border-radius: var(--radius-lg);
      padding: var(--space-2xl);
      margin: 0;
      box-shadow: var(--shadow-sm);
    }

    .learning-hero {
      text-align: center;
      margin-bottom: var(--space-2xl);
    }

    .learning-hero h2 {
      font-size: var(--font-size-4xl);
      margin-bottom: var(--space-md);
      color: var(--text-primary);
    }

    .learning-subtitle {
      font-size: var(--font-size-xl);
      color: var(--text-secondary);
      max-width: 600px;
      margin: 0 auto;
      line-height: 1.6;
    }

    .learning-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: var(--space-lg);
    }

    .learning-card {
      background: var(--bg-secondary);
      border: 1px solid var(--border-color);
      border-radius: var(--radius-lg);
      padding: var(--space-xl);
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    }

    .learning-card:hover {
      transform: translateY(-2px);
      border-color: var(--primary-light);
      box-shadow: var(--shadow-md);
    }

    .highlight-card {
      background: var(--surface);
      border: 2px solid var(--primary-light);
      box-shadow: var(--shadow-sm);
    }

    .learning-icon {
      font-size: 3rem;
      margin-bottom: var(--space-md);
      display: block;
    }

    .learning-card h3 {
      color: var(--text-primary);
      font-size: var(--font-size-xl);
      margin-bottom: var(--space-md);
      font-weight: 600;
    }

    .learning-card p {
      color: var(--text-secondary);
      line-height: 1.6;
      margin-bottom: var(--space-md);
    }

    .feature-list {
      list-style: none;
      padding: 0;
    }

    .feature-list li {
      color: var(--text-secondary);
      margin-bottom: var(--space-sm);
      display: flex;
      align-items: center;
      gap: var(--space-sm);
    }

    .feature-dot {
      color: var(--primary);
      font-weight: bold;
    }

    .audience-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: var(--space-md);
    }

    .audience-item {
      display: flex;
      align-items: center;
      gap: var(--space-sm);
      color: var(--text-secondary);
      font-size: var(--font-size-sm);
    }

    .audience-emoji {
      font-size: var(--font-size-lg);
    }

    .steps-container {
      display: flex;
      flex-direction: column;
      gap: var(--space-md);
    }

    .step {
      display: flex;
      align-items: center;
      gap: var(--space-md);
      color: var(--text-secondary);
    }

    .step-number {
      background: var(--primary);
      border: 2px solid var(--primary);
      border-radius: 50%;
      width: 32px;
      height: 32px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 600;
      color: white;
      flex-shrink: 0;
    }

    /* Full Width Documentation Cards */
    .docs-full-width {
      display: block;
      width: 100%;
      margin: var(--space-md) 0;
    }

    .docs-full-width .docs-card {
      width: 100%;
      max-width: none;
    }

    /* Cyber Glowing Dividers */
    .cyber-divider {
      position: relative;
      width: 100%;
      height: 2px;
      margin: var(--space-lg) 0;
      background: transparent;
      overflow: hidden;
    }

    .cyber-divider::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, 
        transparent 0%, 
        var(--primary) 30%, 
        var(--info) 50%, 
        var(--primary) 70%, 
        transparent 100%);
      animation: cyberGlow 4s linear infinite;
      border-radius: 1px;
      opacity: 0.4;
      box-shadow: 
        0 0 3px rgba(99, 102, 241, 0.2),
        0 0 6px rgba(99, 102, 241, 0.1);
    }

    .cyber-divider::after {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 1px;
      background: linear-gradient(90deg, 
        transparent 0%, 
        rgba(99, 102, 241, 0.1) 20%, 
        rgba(6, 182, 212, 0.2) 50%, 
        rgba(99, 102, 241, 0.1) 80%, 
        transparent 100%);
      border-radius: 0.5px;
      opacity: 0.3;
      animation: cyberPulse 3s ease-in-out infinite alternate;
    }

    @keyframes cyberGlow {
      0% {
        left: -100%;
        opacity: 0;
      }
      20% {
        opacity: 0.4;
      }
      80% {
        opacity: 0.4;
      }
      100% {
        left: 100%;
        opacity: 0;
      }
    }

    @keyframes cyberPulse {
      0% {
        opacity: 0.2;
        transform: scaleX(0.9);
      }
      100% {
        opacity: 0.4;
        transform: scaleX(1);
      }
    }

    /* Dark theme adjustments for cyber dividers */
    [data-theme="dark"] .cyber-divider::before {
      background: linear-gradient(90deg, 
        transparent 0%, 
        #818cf8 30%, 
        #22d3ee 50%, 
        #818cf8 70%, 
        transparent 100%);
      opacity: 0.3;
      box-shadow: 
        0 0 3px rgba(129, 140, 248, 0.2),
        0 0 6px rgba(129, 140, 248, 0.1);
    }

    [data-theme="dark"] .cyber-divider::after {
      background: linear-gradient(90deg, 
        transparent 0%, 
        rgba(129, 140, 248, 0.15) 20%, 
        rgba(34, 211, 238, 0.25) 50%, 
        rgba(129, 140, 248, 0.15) 80%, 
        transparent 100%);
    }

    /* Colorful theme adjustments for cyber dividers */
    [data-theme="colorful"] .cyber-divider::before {
      background: linear-gradient(90deg, 
        transparent 0%, 
        rgba(255, 255, 255, 0.4) 30%, 
        rgba(255, 255, 255, 0.5) 50%, 
        rgba(255, 255, 255, 0.4) 70%, 
        transparent 100%);
      opacity: 0.3;
      box-shadow: 
        0 0 3px rgba(255, 255, 255, 0.2),
        0 0 6px rgba(255, 255, 255, 0.1);
    }

    [data-theme="colorful"] .cyber-divider::after {
      background: linear-gradient(90deg, 
        transparent 0%, 
        rgba(255, 255, 255, 0.2) 20%, 
        rgba(255, 255, 255, 0.3) 50%, 
        rgba(255, 255, 255, 0.2) 80%, 
        transparent 100%);
    }


    /* CSS Logo Styles */
    .logo-container {
      text-align: center;
      margin: 20px 0 30px 0;
    }

    .logo-link {
      text-decoration: none;
      display: inline-block;
    }

    .css-logo {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 15px;
    }

    .logo-icon {
      display: flex;
      align-items: center;
      gap: 8px;
      height: 40px;
      position: relative;
    }

    .diagram-node {
      width: 24px;
      height: 24px;
      background: linear-gradient(135deg, #4f46e5, #7c3aed);
      border-radius: 50%;
      box-shadow: 0 4px 12px rgba(79, 70, 229, 0.3);
      position: relative;
      transition: all 0.3s ease;
    }

    .diagram-node::before {
      content: '';
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 8px;
      height: 8px;
      background: white;
      border-radius: 50%;
      opacity: 0.9;
    }

    .diagram-connection {
      width: 20px;
      height: 3px;
      background: linear-gradient(90deg, #4f46e5, #7c3aed);
      border-radius: 2px;
      position: relative;
      box-shadow: 0 2px 8px rgba(79, 70, 229, 0.2);
    }

    .diagram-connection-2 {
      transform: rotate(45deg);
      width: 16px;
    }

    .diagram-connection::after {
      content: '';
      position: absolute;
      right: -3px;
      top: 50%;
      transform: translateY(-50%);
      width: 6px;
      height: 6px;
      background: #7c3aed;
      border-radius: 50%;
    }

    .logo-text {
      font-family: 'Poppins', sans-serif;
      font-size: 2.2rem;
      font-weight: 600;
      line-height: 1;
    }

    .logo-simple {
      color: #4f46e5;
      margin-right: 2px;
    }

    .logo-mermaid {
      background: linear-gradient(135deg, #4f46e5, #7c3aed, #06b6d4);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }

    /* Logo hover effects */
    .logo-link:hover .diagram-node {
      transform: scale(1.1);
      box-shadow: 0 6px 20px rgba(79, 70, 229, 0.4);
    }

    .logo-link:hover .diagram-connection {
      background: linear-gradient(90deg, #7c3aed, #06b6d4);
    }

    .logo-link:hover .logo-simple {
      color: #7c3aed;
    }

    /* Dark mode logo adjustments */
    .dark-mode .diagram-node {
      background: linear-gradient(135deg, #60a5fa, #a78bfa);
      box-shadow: 0 4px 12px rgba(96, 165, 250, 0.3);
    }

    .dark-mode .diagram-connection {
      background: linear-gradient(90deg, #60a5fa, #a78bfa);
      box-shadow: 0 2px 8px rgba(96, 165, 250, 0.2);
    }

    .dark-mode .diagram-connection::after {
      background: #a78bfa;
    }

    .dark-mode .logo-simple {
      color: #60a5fa;
    }

    .dark-mode .logo-mermaid {
      background: linear-gradient(135deg, #60a5fa, #a78bfa, #22d3ee);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }

    .dark-mode .logo-link:hover .diagram-node {
      background: linear-gradient(135deg, #93c5fd, #c4b5fd);
      box-shadow: 0 6px 20px rgba(147, 197, 253, 0.4);
    }

    .dark-mode .logo-link:hover .diagram-connection {
      background: linear-gradient(90deg, #a78bfa, #22d3ee);
    }

    .dark-mode .logo-link:hover .logo-simple {
      color: #a78bfa;
    }

    /* Colorful mode logo adjustments */
    .colorful-mode .diagram-node {
      background: linear-gradient(135deg, #3b82f6, #8b5cf6);
      box-shadow: 0 4px 12px rgba(59, 130, 246, 0.3);
    }

    .colorful-mode .diagram-connection {
      background: linear-gradient(90deg, #3b82f6, #8b5cf6);
      box-shadow: 0 2px 8px rgba(59, 130, 246, 0.2);
    }

    .colorful-mode .diagram-connection::after {
      background: #8b5cf6;
    }

    .colorful-mode .logo-simple {
      color: #1e40af;
    }

    .colorful-mode .logo-mermaid {
      background: linear-gradient(135deg, #1e40af, #7c2d12, #0891b2);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }

    /* Responsive Adjustments */
    @media (max-width: 768px) {
      .container {
        padding: 20px;
      }
      h2 { font-size: 1.5rem; }
      h3 { font-size: 1.2rem; }
      h4 { font-size: 1.1rem; }
      p, ul li, ol li { font-size: 0.95rem; }
      
      .logo-text {
        font-size: 1.8rem;
      }
      
      .diagram-node {
        width: 20px;
        height: 20px;
      }
      
      .diagram-node::before {
        width: 6px;
        height: 6px;
      }
      
      .diagram-connection {
        width: 16px;
        height: 2px;
      }
      
      .diagram-connection-2 {
        width: 12px;
      }
    }

    /* Responsive Design */
    @media (max-width: 1024px) {
      .editor-section:not(.vertical-layout) {
        grid-template-columns: 1fr;
        gap: var(--space-md);
      }
      
      .app-container {
        padding: var(--space-md);
      }

      /* Force vertical layout on tablets */
      .editor-section {
        grid-template-columns: 1fr !important;
        grid-template-rows: auto 1fr !important;
      }

      .editor-section .editor-panel {
        order: 1 !important;
      }

      .editor-section .preview-panel {
        order: 2 !important;
      }
    }

    @media (max-width: 768px) {
      .fixed-controls {
        top: var(--space-sm);
        right: var(--space-sm);
      }

      .theme-toggle, .layout-toggle {
        min-width: 48px;
        height: 48px;
        font-size: var(--font-size-lg);
      }

      /* Preview actions mobile styles */
      .panel-footer {
        padding: var(--space-sm);
      }

      .preview-actions {
        gap: var(--space-xs);
        flex-direction: column;
      }

      .preview-actions .btn {
        width: 100%;
        max-width: 280px;
        justify-content: center;
        font-size: var(--font-size-sm);
      }
    }
      
      .controls-section {
        flex-direction: column;
        gap: var(--space-sm);
      }
      
      .dropdown-menu {
        left: 50%;
        transform: translateX(-50%);
        width: 90vw;
        max-width: 280px;
      }
      
      .dropdown-menu.show {
        transform: translateX(-50%);
      }
      
      .code-editor, .preview-container {
        min-height: 300px;
      }
      
      h1 {
        font-size: var(--font-size-3xl);
      }
      
      h2 {
        font-size: var(--font-size-2xl);
      }
      
      .docs-grid {
        grid-template-columns: 1fr;
      }

      /* Ads responsive */
      .ads-section {
        margin: var(--space-lg) 0;
      }

      .ad-content {
        min-height: 200px;
      }

      .learning-grid {
        grid-template-columns: 1fr;
      }

      .learning-hero h2 {
        font-size: var(--font-size-3xl);
      }

      .learning-subtitle {
        font-size: var(--font-size-lg);
      }

      .audience-grid {
        grid-template-columns: 1fr;
        gap: var(--space-sm);
      }

    @media (max-width: 480px) {
      .app-container {
        padding: var(--space-sm);
        gap: var(--space-lg);
      }
      
      .logo-text {
        font-size: var(--font-size-2xl);
      }
      
      .btn {
        padding: var(--space-sm);
        font-size: var(--font-size-xs);
      }

      .learning-section {
        padding: var(--space-xl);
        margin: var(--space-lg) 0;
      }

      .learning-hero h2 {
        font-size: var(--font-size-2xl);
      }

      .learning-subtitle {
        font-size: var(--font-size-base);
      }

      .learning-icon {
        font-size: 2rem;
      }
    }

    #mermaid-output .nodeLabel {
      overflow: visible !important;
      white-space: nowrap !important;  /* or 'normal' for wrapping */
    }

    #mermaid-output .label-container {
      overflow: visible !important;
    }

    #mermaid-output svg foreignObject {
      overflow: visible !important;
    }
    
    /* Firefox-specific SVG fixes */
    @-moz-document url-prefix() {
      #mermaid-output svg {
        overflow: visible !important;
      }
      
      #mermaid-output svg foreignObject {
        transform: translateZ(0); /* Force GPU acceleration */
        overflow: visible !important;
      }
      
      #mermaid-output svg text {
        dominant-baseline: central;
        text-anchor: middle;
      }
      
      #mermaid-output svg .edgeLabel foreignObject {
        overflow: visible !important;
        pointer-events: none;
      }
      
      #mermaid-output svg .node rect,
      #mermaid-output svg .node circle,
      #mermaid-output svg .node polygon {
        stroke-width: 1.5px;
      }
    }

    #mermaid-output svg .nodeLabel {
      display: inline-block !important;
      width: max-content !important;
      overflow: visible !important;
    }
    
    /* Footer Styles */
    .main-footer {
      margin-top: 4rem;
      background: var(--bg-secondary);
      border-top: 1px solid var(--border-light);
      padding: 3rem 0 1.5rem;
    }
    
    .footer-container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 2rem;
      display: grid;
      grid-template-columns: 2fr 1fr;
      gap: 4rem;
    }
    
    .footer-section {
      display: flex;
      flex-direction: column;
      gap: 1rem;
    }
    
    .footer-title {
      font-size: 1.25rem;
      font-weight: 600;
      color: var(--text);
      margin: 0;
      font-family: 'Poppins', sans-serif;
    }
    
    .footer-description {
      color: var(--text-muted);
      line-height: 1.6;
      margin: 0;
    }
    
    .footer-features {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 0.75rem;
      margin-top: 1rem;
    }
    
    .footer-feature {
      display: flex;
      align-items: flex-start;
      gap: 0.5rem;
      background: var(--bg);
      padding: 0.75rem;
      border-radius: var(--radius-md);
      border: 1px solid var(--border-light);
    }
    
    .footer-feature-icon {
      font-size: 1.25rem;
      line-height: 1;
      margin-top: 0.125rem;
    }
    
    .footer-feature-content {
      flex: 1;
    }
    
    .footer-feature-title {
      font-size: 0.875rem;
      color: var(--text);
      font-weight: 500;
      margin-bottom: 0.25rem;
    }
    
    .footer-feature-desc {
      font-size: 0.75rem;
      color: var(--text-muted);
      line-height: 1.4;
    }
    
    .footer-links {
      display: flex;
      flex-direction: column;
      gap: 0.75rem;
    }
    
    .footer-link {
      display: flex;
      align-items: center;
      gap: 0.75rem;
      padding: 0.75rem;
      background: var(--bg);
      border: 1px solid var(--border-light);
      border-radius: var(--radius-md);
      text-decoration: none;
      transition: all 0.2s ease;
    }
    
    .footer-link:hover {
      background: var(--bg-secondary);
      transform: translateX(4px);
      border-color: var(--primary);
    }
    
    .link-emoji {
      font-size: 1.5rem;
      width: 40px;
      height: 40px;
      display: flex;
      align-items: center;
      justify-content: center;
      background: var(--bg-secondary);
      border-radius: var(--radius-sm);
    }
    
    .link-title {
      font-weight: 500;
      color: var(--text);
      font-size: 0.95rem;
    }
    
    .link-desc {
      color: var(--text-muted);
      font-size: 0.8rem;
      margin-top: 0.125rem;
    }
    
    .footer-bottom {
      margin-top: 2.5rem;
      padding-top: 1.5rem;
      border-top: 1px solid var(--border-light);
    }
    
    .footer-copyright {
      text-align: center;
      color: var(--text-muted);
      font-size: 0.875rem;
    }
    
    /* Dark theme footer adjustments */
    [data-theme="dark"] .footer-link {
      background: var(--bg-secondary);
    }
    
    [data-theme="dark"] .footer-link:hover {
      background: var(--bg);
    }
    
    [data-theme="dark"] .link-emoji {
      background: var(--bg);
    }
    
    [data-theme="colorful"] .footer-link:hover {
      border-color: #ff6b6b;
    }

    /* Panel footer theme support */
    [data-theme="dark"] .panel-footer {
      background: var(--bg-secondary);
      border-top-color: var(--border-light);
    }

    [data-theme="colorful"] .panel-footer {
      background: var(--bg-secondary);
      border-top-color: var(--border-light);
    }

    /* Ads theme support */
    [data-theme="dark"] .ad-placeholder {
      background: var(--surface);
      border-color: var(--border-color);
    }

    [data-theme="dark"] .ad-content {
      background: var(--bg-tertiary);
      border-color: var(--border-light);
    }

    [data-theme="colorful"] .ad-placeholder {
      background: var(--surface);
      border-color: var(--border-color);
    }

    [data-theme="colorful"] .ad-content {
      background: var(--bg-tertiary);
      border-color: var(--border-light);
    }

    
    /* Responsive footer */
    @media (max-width: 768px) {
      .footer-container {
        grid-template-columns: 1fr;
        gap: 2rem;
      }
      
      .footer-features {
        grid-template-columns: 1fr;
      }
    }
  </style>
</head>

<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6FZM0EGT74"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-6FZM0EGT74');
</script>


<body>
  <!-- Fixed Control Buttons -->
  <div class="fixed-controls">
    <button class="btn btn-secondary theme-toggle" onclick="cycleTheme()" title="Switch Theme">
      🌙
    </button>
    <button class="btn btn-secondary layout-toggle" onclick="toggleLayout()" title="Switch to Horizontal Layout">
      ⬍
    </button>
  </div>

  <div class="app-container">
    <!-- Header Section -->
    <header class="header-section">
      <div class="logo-container">
        <a href="index.html" title="SimpleMermaid.com - Simple Online Mermaid.js Editor" class="logo-link">
          <div class="css-logo">
            <div class="logo-icon">
              <div class="diagram-node"></div>
              <div class="diagram-connection"></div>
              <div class="diagram-node"></div>
              <div class="diagram-connection diagram-connection-2"></div>
              <div class="diagram-node"></div>
            </div>
            <div class="logo-text">
              <span class="logo-simple">Simple</span><span class="logo-mermaid">Mermaid</span>
            </div>
          </div>
        </a>
      </div>

      <p class="lead">
        Fast, distraction-free editor where you can 
        <strong>write, visualize, share, and collaborate</strong> on Mermaid.js diagrams in real time.
      </p>

      <!-- Examples Controls -->
      <div class="controls-section">
        <div id="category-dropdowns">
          <!-- Categories will be loaded dynamically -->
        </div>
      </div>
    </header>

    <!-- Main Editor -->
    <main class="card">
      <div class="editor-section">
        <!-- Code Editor Panel -->
        <div class="editor-panel">
          <div class="panel-header">
            <h3 class="panel-title">📝 Mermaid Code</h3>
          </div>
          <div class="panel-body">
            <textarea 
              id="mermaid-input" 
              class="form-control code-editor"
              placeholder="Enter your Mermaid diagram code here..."
              spellcheck="false"
            >flowchart TD
    A[Start] --> B{Decision}
    B -- Yes --> C[Do something]
    B -- No --> D[Do something else]
    C --> E[End]
    D --> E</textarea>
          </div>
        </div>

        <!-- Preview Panel -->
        <div class="preview-panel">
          <div class="panel-header">
            <h3 class="panel-title">👁️ Live Preview</h3>
          </div>
          <div class="panel-body">
            <div id="mermaid-output" class="preview-container">
              <div class="text-muted">Loading diagram...</div>
            </div>
          </div>
          <div class="panel-footer">
            <div class="preview-actions">
              <button id="share-btn" class="btn btn-primary btn-sm" onclick="generateShareLink()" title="Generate shareable link">
                🔗 Generate shareable link
              </button>
              <button id="export-png-btn" class="btn btn-primary btn-sm" onclick="exportToPNG()" title="Export as PNG">
                🖼️ Export PNG
              </button>
              <button id="export-pdf-btn" class="btn btn-primary btn-sm" onclick="exportToPDF()" title="Export as PDF">
                📄 Export PDF
              </button>
            </div>
          </div>
        </div>
      </div>
    </main>


    <!-- Cyber Divider 
    <div class="cyber-divider"></div>
    -->

    <!-- Documentation Section -->
    <section class="docs-section">
      <div class="docs-full-width">
        <div class="docs-card">
          <h3>📊 All Diagram Types</h3>
          <p class="text-muted">Mermaid supports various diagram types. Use %% for comments – helpful for documentation.</p>
          <div class="code-example"><pre>graph LR         %% Left-to-right graph (alternative syntax for flowchart)
graph RL         %% Right-to-left graph
graph TD         %% Top-down graph
flowchart TD     %% Standard flowchart (top-down)
flowchart LR     %% Left-to-right flowchart
sequenceDiagram  %% Interaction between system components
pie              %% Pie chart visualization
gantt            %% Project timeline representation
stateDiagram     %% State machine diagrams
stateDiagram-v2  %% Improved state diagram with better syntax
classDiagram     %% UML-style class relationships
erDiagram        %% Entity-relationship diagrams for databases
journey          %% User journey or experience mapping
quadrantChart    %% Risk and priority matrices</pre></div>
        </div>
      </div>

      <div class="docs-full-width">
        <div class="docs-card">
          <h3>🏗️ Grouping Elements (Subgraphs & VLANs)</h3>
          <p class="text-muted">Use subgraph to create VLANs or logical groups.</p>
          <div class="code-example"><pre>flowchart TD
subgraph VLAN1 [VLAN 1]
  A[Server 1] -->|Ethernet| B[Switch]
  C[Server 2] -->|Ethernet| B
end
subgraph VLAN2 [VLAN 2]
  D[Server 3] -->|Ethernet| E[Switch]
end
B -->|Router| E</pre></div>
        </div>
      </div>

      <div class="docs-full-width">
        <div class="docs-card">
          <h3>🔷 Basic Shapes</h3>
          <p class="text-muted">Surround text with different brackets to create shapes:</p>
          <div class="code-example"><pre>flowchart TD
  A[Rectangle]
  B(Round Edges)
  C((Circle))
  D{{Diamond}}
  E>Angled Rectangle]
  F[/Parallelogram/]
  G[[Database]]</pre></div>
        </div>
      </div>

      <div class="docs-full-width">
        <div class="docs-card">
          <h3>➡️ Named Arrows (Flows)</h3>
          <p class="text-muted">Label connections using `-->|"text"|` syntax:</p>
          <div class="code-example"><pre>flowchart LR
  A[User] -->|Logs in| B[Login Page]
  B -->|Sends credentials| C[Server]
  C -->|Responds| D[Dashboard]</pre></div>
        </div>
      </div>

      <div class="docs-full-width">
        <div class="docs-card">
          <h3>🎨 Styling with `classDef` and `class`</h3>
          <p class="text-muted">Use custom classes to style nodes:</p>
          <div class="code-example"><pre>flowchart TD
  A[Secure Node]:::secure
  B[Threat Node]:::threat
  classDef secure fill:#5cb85c,stroke:#3e8e41,stroke-width:2px;
  classDef threat fill:#f66,stroke:#900,stroke-width:2px;</pre></div>
        </div>
      </div>

      <div class="docs-full-width">
        <div class="docs-card">
          <h3>🔄 Named Arrows in State Diagrams</h3>
          <p class="text-muted">In <code>stateDiagram</code>, transitions are labeled using a colon <code>:</code> after the arrow definition:</p>
          <div class="code-example"><pre>stateDiagram
    [*] --> Idle
    Idle --> Running : Start Process
    Running --> Paused : Pause
    Paused --> Running : Resume
    Running --> Stopped : Stop
    Stopped --> [*] : Shutdown
    Stopped --> Idle : Restart</pre></div>
        </div>
      </div>
    </section>


    <section class="docs-grid">
      <div class="docs-card">
        <h3>🔗 Instant Sharing & Collaboration</h3>
        <p class="text-muted">Create shareable links for your diagrams in seconds. Perfect for team collaboration, documentation, and presentations.</p>
        <ul>
          <li><strong>One-Click Sharing</strong> – Generate compressed URLs instantly</li>
          <li><strong>No Registration</strong> – Share without accounts or logins</li>
          <li><strong>Universal Access</strong> – Works on any device with a browser</li>
          <li><strong>Lightweight Links</strong> – Advanced compression keeps URLs short</li>
          <li><strong>Persistent Diagrams</strong> – Shared links never expire</li>
        </ul>
        <p class="text-muted"><strong>How to share:</strong> Create your diagram → Click "🔗 Generate shareable link" → Copy and send the URL to anyone!</p>
      </div>

      <div class="docs-card">
        <h3>✅ Best Practices</h3>
        <p class="text-muted">Follow these guidelines for better diagrams:</p>
        <ul>
          <li>Break complex diagrams into multiple smaller ones</li>
          <li>Use descriptive labels (User, App, DB) instead of A, B, C</li>
          <li>Use subgraph for logical grouping</li>
          <li>Define custom styles with classDef</li>
          <li>Apply styles using class nodeName className</li>
          <li>Use color coding for threats, servers, and databases</li>
        </ul>
      </div>

      <div class="docs-card">
        <h3>📚 About Mermaid.js</h3>
        <p class="text-muted">Mermaid.js is a powerful, text-based diagramming tool that creates flowcharts, sequence diagrams, Gantt charts, and more using simple, Markdown-like syntax.</p>
        <p class="text-muted">Perfect for developers, technical writers, project managers, and students who need quick, professional diagrams without complex software.</p>
      </div>

      <div class="docs-card">
        <h3>🚀 Why SimpleMermaid?</h3>
        <ul>
          <li><strong>No Setup Needed</strong> – Just open and start diagramming</li>
          <li><strong>Instant Preview</strong> – Live diagram updates as you type</li>
          <li><strong>Share Instantly</strong> – Generate shareable links for collaboration</li>
          <li><strong>Export to PNG/PDF</strong> – Download diagrams in multiple formats</li>
          <li><strong>Distraction-Free</strong> – Clean, focused interface</li>
          <li><strong>Multiple Themes</strong> – Light, dark, and colorful modes</li>
          <li><strong>Preloaded Examples</strong> – 20+ ready-made diagram templates</li>
          <li><strong>Privacy Focused</strong> – No server storage, all processing in browser</li>
          <li><strong>Keyboard Shortcuts</strong> – Fast workflow with hotkeys</li>
          <li><strong>Auto-Save URL</strong> – Never lose your work with automatic URL updates</li>
          <li><strong>Responsive Design</strong> – Works perfectly on desktop, tablet, and mobile</li>
          <li><strong>No Login Required</strong> – Start creating immediately, no account needed</li>
          <li><strong>Version Control Friendly</strong> – Text-based diagrams work great with Git</li>
          <li><strong>Markdown Compatible</strong> – Embed diagrams in documentation easily</li>
        </ul>
      </div>
    </section>

    <!-- Cyber Divider 
    <div class="cyber-divider"></div>
    -->


    <!-- Learning Section -->
    <section class="learning-section">
      <div class="learning-hero">
        <h2>🚀 Master Mermaid.js Diagrams</h2>
        <p class="learning-subtitle">Transform your ideas into beautiful diagrams with the simplest syntax you'll ever learn</p>
      </div>

      <div class="learning-grid">
        <div class="learning-card highlight-card">
          <div class="learning-icon"></div>
          <h3>What is Mermaid.js?</h3>
          <p>A powerful, text-based diagramming tool that creates flowcharts, sequence diagrams, Gantt charts, and more using simple, intuitive syntax similar to Markdown.</p>
          <p>Perfect for developers, technical writers, project managers, and students who need professional diagrams without complex software.</p>
        </div>

        <div class="learning-card">
          <div class="learning-icon"></div>
          <h3>Why SimpleMermaid?</h3>
          <ul class="feature-list">
            <li><span class="feature-dot">•</span><strong>No Setup</strong> – Open and start diagramming instantly</li>
            <li><span class="feature-dot">•</span><strong>Live Preview</strong> – See changes as you type</li>
            <li><span class="feature-dot">•</span><strong>Share Anywhere</strong> – Generate links for instant collaboration</li>
            <li><span class="feature-dot">•</span><strong>Export Options</strong> – PNG & PDF download formats</li>
            <li><span class="feature-dot">•</span><strong>Multiple Themes</strong> – Dark, light, and colorful modes</li>
            <li><span class="feature-dot">•</span><strong>Rich Examples</strong> – 20+ ready-made templates</li>
            <li><span class="feature-dot">•</span><strong>Mobile Friendly</strong> – Works on any device</li>
            <li><span class="feature-dot">•</span><strong>Zero Cost</strong> – Completely free, no premium tiers</li>
            <li><span class="feature-dot">•</span><strong>Fast Performance</strong> – Optimized for instant rendering</li>
            <li><span class="feature-dot">•</span><strong>URL Persistence</strong> – Diagrams saved in URL automatically</li>
          </ul>
        </div>

        <div class="learning-card">
          <div class="learning-icon"></div>
          <h3>Perfect For</h3>
          <div class="audience-grid">
            <div class="audience-item">
              <span class="audience-emoji">👩‍💻</span>
              <span>Developers & Engineers</span>
            </div>
            <div class="audience-item">
              <span class="audience-emoji">📝</span>
              <span>Technical Writers</span>
            </div>
            <div class="audience-item">
              <span class="audience-emoji">📊</span>
              <span>Project Managers</span>
            </div>
            <div class="audience-item">
              <span class="audience-emoji">🎓</span>
              <span>Students & Learners</span>
            </div>
          </div>
        </div>

        <div class="learning-card process-card">
          <div class="learning-icon"></div>
          <h3>Quick Start Guide</h3>
          <div class="steps-container">
            <div class="step">
              <span class="step-number">1</span>
              <span>Choose an example from the dropdowns above</span>
            </div>
            <div class="step">
              <span class="step-number">2</span>
              <span>Edit the code in the editor panel</span>
            </div>
            <div class="step">
              <span class="step-number">3</span>
              <span>Watch your diagram update in real-time</span>
            </div>
            <div class="step">
              <span class="step-number">4</span>
              <span>Experiment with different diagram types</span>
            </div>
          </div>
        </div>
      </div>
    </section>
  </div>

  <footer class="main-footer">
    <div class="footer-container">
      <div class="footer-section">
        <h4 class="footer-title">SimpleMermaid - Complete Diagramming Suite</h4>
        <p class="footer-description">The most intuitive online Mermaid.js editor for creating professional diagrams. No signup required, instant results.</p>
        <div class="footer-features">
          <div class="footer-feature">
            <span class="footer-feature-icon">✨</span>
            <div class="footer-feature-content">
              <div class="footer-feature-title">Live Preview</div>
              <div class="footer-feature-desc">Real-time rendering as you type</div>
            </div>
          </div>
          <div class="footer-feature">
            <span class="footer-feature-icon">🔗</span>
            <div class="footer-feature-content">
              <div class="footer-feature-title">Instant Sharing</div>
              <div class="footer-feature-desc">One-click shareable links</div>
            </div>
          </div>
          <div class="footer-feature">
            <span class="footer-feature-icon">📥</span>
            <div class="footer-feature-content">
              <div class="footer-feature-title">Export Options</div>
              <div class="footer-feature-desc">Download as PNG or PDF</div>
            </div>
          </div>
          <div class="footer-feature">
            <span class="footer-feature-icon">📊</span>
            <div class="footer-feature-content">
              <div class="footer-feature-title">Multiple Diagrams</div>
              <div class="footer-feature-desc">Flowcharts, sequences, Gantt & more</div>
            </div>
          </div>
          <div class="footer-feature">
            <span class="footer-feature-icon">🎨</span>
            <div class="footer-feature-content">
              <div class="footer-feature-title">Theme Options</div>
              <div class="footer-feature-desc">Light, dark & colorful modes</div>
            </div>
          </div>
          <div class="footer-feature">
            <span class="footer-feature-icon">⚡</span>
            <div class="footer-feature-content">
              <div class="footer-feature-title">No Installation</div>
              <div class="footer-feature-desc">Works instantly in browser</div>
            </div>
          </div>
          <div class="footer-feature">
            <span class="footer-feature-icon">🔒</span>
            <div class="footer-feature-content">
              <div class="footer-feature-title">Privacy First</div>
              <div class="footer-feature-desc">No data stored on servers</div>
            </div>
          </div>
          <div class="footer-feature">
            <span class="footer-feature-icon">📱</span>
            <div class="footer-feature-content">
              <div class="footer-feature-title">Responsive Design</div>
              <div class="footer-feature-desc">Works on all devices</div>
            </div>
          </div>
        </div>
      </div>
      
      <div class="footer-section">
        <h4 class="footer-title">More Projects</h4>
        <div class="footer-links">
          <a href="https://taptapcalculator.com" target="_blank" rel="noopener noreferrer" class="footer-link">
            <span class="link-emoji">🧮</span>
            <div>
              <div class="link-title">TapTapCalculator</div>
              <div class="link-desc">Smart calculator app</div>
            </div>
          </a>
          <a href="https://threatbandit.com" target="_blank" rel="noopener noreferrer" class="footer-link">
            <span class="link-emoji">🛡️</span>
            <div>
              <div class="link-title">ThreatBandit</div>
              <div class="link-desc">Security solutions</div>
            </div>
          </a>
          <a href="https://trackmytime.net" target="_blank" rel="noopener noreferrer" class="footer-link">
            <span class="link-emoji">⏱️</span>
            <div>
              <div class="link-title">TrackMyTime</div>
              <div class="link-desc">Time tracking made simple</div>
            </div>
          </a>
          <a href="https://emphonic.com" target="_blank" rel="noopener noreferrer" class="footer-link">
            <span class="link-emoji">🎵</span>
            <div>
              <div class="link-title">Emphonic</div>
              <div class="link-desc">Audio experiences</div>
            </div>
          </a>
        </div>
      </div>
    </div>
    
    <div class="footer-bottom">
      <div class="footer-copyright">
        &copy; 2025 SimpleMermaid.com. All rights reserved.
      </div>
    </div>
  </footer>


  <!-- Cookie Popup -->
  <!--
  <div id="cookie-popup">
    <p>We use cookies to analyze traffic in an anonymous way. No personal information is collected.</p>
    <button onclick="document.getElementById('cookie-popup').style.display='none'">Got it</button>
  </div>
  -->

  <!-- LZ-String Compression Library -->
  <script src="https://cdn.jsdelivr.net/npm/lz-string@1.5.0/libs/lz-string.min.js"></script>

  <!-- Mermaid & Script -->
  <script type="module">
    import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs';
  
    let examplesConfig = null;
    let themeIndex = 1; // 0=light, 1=dark, 2=colorful - Start with dark theme
    let isVerticalLayout = true; // Start with vertical layout (code up, diagram below)
  
    // Embedded fallback examples (for when opening file:// directly)
    const embeddedExamples = {
      "categories": {
        "basic": {
          "name": "Basic Diagrams",
          "examples": [
            {"id": "empty", "title": "Empty", "content": ""},
            {"id": "simple", "title": "Simple", "content": "graph LR\nA-->B\nB-.->C"},
            {"id": "flowchart-basic", "title": "Flowchart", "content": "flowchart TD\nA[Start] --> B{Decision}\nB -- Yes --> C[Do something]\nB -- No --> D[Do something else]\nC --> E[End]\nD --> E"},
            {"id": "shapes", "title": "Shapes", "content": "flowchart TD\n  A[Rectangle]\n  B(Round Edges)\n  C((Circle))\n  D{{Diamond}}\n  E>Angled Rectangle]\n  F[/Parallelogram/]\n  G[[Database]]"}
          ]
        },
        "sequence": {
          "name": "Sequence Diagrams",
          "examples": [
            {"id": "sequence-basic", "title": "Basic Sequence", "content": "sequenceDiagram\nparticipant User\nparticipant Browser\nparticipant Server\nparticipant Database\nUser->>Browser: Request Website\nBrowser->>Server: HTTP Request\nServer->>Database: Query Data\nDatabase-->>Server: Return Data\nServer-->>Browser: HTML Response\nBrowser-->>User: Render Page"},
            {"id": "sequence-oauth", "title": "OAuth Flow", "content": "sequenceDiagram\nparticipant User\nparticipant App\nparticipant AuthServer\nparticipant ResourceServer\nUser->>App: Login request\nApp->>AuthServer: Redirect with credentials\nAuthServer-->>User: Auth Code\nUser->>App: Return Auth Code\nApp->>AuthServer: Exchange for Token\nAuthServer-->>App: Access Token\nApp->>ResourceServer: Access resource with Token"}
          ]
        },
        "project": {
          "name": "Project Management",
          "examples": [
            {"id": "gantt-project", "title": "Gantt Chart", "content": "gantt\ntitle Project Plan\nsection Phase 1\nTask A :done, a1, 2024-03-01, 10d\nTask B :a2, after a1, 7d\nsection Phase 2\nTask C :a3, after a2, 5d\nTask D :a4, after a3, 8d"},
            {"id": "journey", "title": "User Journey", "content": "journey\ntitle User Journey\nsection Experience\nBrowse: 5: Alice\nAdd to Cart: 3: Bob\nCheckout: 2: Alice, Bob"}
          ]
        },
        "architecture": {
          "name": "System Architecture",
          "examples": [
            {"id": "class-diagram", "title": "Class Diagram", "content": "classDiagram\nclass Animal{\n+int age\n+String name\n+eat()\n+sleep()\n}\nclass Mammal{\n+boolean hasFur\n+nurseYoung()\n}\nclass Dog{\n+String breed\n+bark()\n}\nclass Cat{\n+boolean isIndoor\n+meow()\n}\nclass Owner{\n+String name\n+adoptPet(Animal pet)\n}\nAnimal <|-- Mammal\nMammal <|-- Dog\nMammal <|-- Cat\nOwner o-- Animal : owns"},
            {"id": "state-diagram", "title": "State Diagram", "content": "stateDiagram\n[*] --> Idle\nIdle --> Running : Start Process\nRunning --> Paused : Pause\nPaused --> Running : Resume\nRunning --> Stopped : Stop\nStopped --> [*] : Shutdown\nStopped --> Idle : Restart"},
            {"id": "erd", "title": "Entity Relationship", "content": "erDiagram\nCUSTOMER ||--o{ ORDER : places\nORDER ||--|{ LINE-ITEM : contains\nPRODUCT ||--o{ LINE-ITEM : includes"},
            {"id": "network-diagram", "title": "Network Diagram", "content": "flowchart LR\nUser[👤 User] -->|Access Website| Browser[🌐 Browser/Client]\nBrowser -->|HTTPS| LB[🔄 Cloudflare]\nsubgraph VNET1 [VNet - My Virtual Network]\nsubgraph Subnet1 [Subnet 1 - Web]\nVM1[🖥️ VM1 - Web Server]\nend\nsubgraph Subnet2 [Subnet 2 - App]\nVM2[🖥️ VM2 - App Server]\nend\nend\nLB -->|Traffic Distribution| VM1\nVM1 -- API Calls --> VM2"},
            {"id": "org-chart", "title": "Organization Chart", "content": "graph TD\n  CEO[CEO]\n  CTO[CTO]\n  CFO[CFO]\n  COO[COO]\n  LeadDev[Lead Developer]\n  Dev1[Developer 1]\n  Dev2[Developer 2]\n  FinanceMgr[Finance Manager]\n  OpsMgr[Operations Manager]\n\n  CEO --> CTO\n  CEO --> CFO\n  CEO --> COO\n\n  CTO --> LeadDev\n  LeadDev --> Dev1\n  LeadDev --> Dev2\n\n  CFO --> FinanceMgr\n  COO --> OpsMgr"}
          ]
        },
        "security": {
          "name": "Security & Threat Models",
          "examples": [
            {"id": "rbac", "title": "RBAC Model", "content": "classDiagram\nclass User {\n  +string username\n  +Role[] roles\n}\nclass Role {\n  +string name\n  +Permission[] permissions\n}\nclass Permission {\n  +string action\n  +string resource\n}\nUser --> Role\nRole --> Permission"},
            {"id": "k8s-threat-model", "title": "Kubernetes Threats", "content": "graph LR;\n%% Define custom styles\nclassDef threat fill:#fca5a5,stroke:#f66,stroke-width:2px,color:#000,stroke-dasharray:5,stroke-dashoffset:5\n\n%% External\nuser((End-User))\nthreatCreds((Stolen<br/>Credentials))\nthreatDOS((DoS<br/>Attack))\nthreatMisconfig((Misconfiguration))\nmaliciousImage((Malicious<br/>Container<br/>Image))\n\nsubgraph external [External]\n    user\n    threatCreds\n    threatDOS\n    maliciousImage\nend\n\nsubgraph cluster [Kubernetes Cluster]\n    ingress((Ingress<br/>Controller))\n    svc((K8s Service))\n        \n    subgraph node1 [Node #1]\n        pod1((Pod #1<br/>Application))\n    end\n        \n    subgraph node2 [Node #2]\n        pod2((Pod #2<br/>Application))\n    end\n        \n    secrets{{K8s Secrets}}\nend\n\nsubgraph externalDB [External DB or API]\n    db[(SQL Database)]\nend\n\n%% Link them up\nuser -->|HTTPS| ingress\ningress -->|HTTP| svc\nsvc --> pod1\nsvc --> pod2\npod1 -->|TCP/IP| db\npod2 -->|TCP/IP| db\nsecrets -.-> pod1\nsecrets -.-> pod2\n    \n%% Threat vectors as dashed lines\nthreatCreds-.-> user\nthreatDOS-.-> ingress\nthreatMisconfig-.-> secrets\nmaliciousImage-.-> pod2\n\nclass threatCreds,threatDOS,threatMisconfig,maliciousImage threat"},
            {"id": "security-breach", "title": "Security Breach", "content": "flowchart TD\nclassDef critical fill:#f66,stroke:#900,stroke-width:2px;\nA[🚨 Security Breach]:::critical"},
            {"id": "system-secure", "title": "System Secure", "content": "flowchart TD\nclassDef secure fill:#5cb85c,stroke:#3e8e41,stroke-width:2px;\nB[✅ System Secure]:::secure"},
            {"id": "cicd-devsecops", "title": "CI/CD DevSecOps", "content": "graph LR\nDev[Developer] --> Commit[Code Commit]\nCommit --> Lint[Run Linter]\nLint --> Test[Run Tests]\nTest --> Scan[SAST/DAST Scan]\nScan --> Build[Build Artifact]\nBuild --> Deploy[Deploy to Staging]\nDeploy --> Monitor[Security Monitoring]"},
            {"id": "access-lifecycle", "title": "Access Lifecycle", "content": "stateDiagram-v2\n[*] --> Requested\nRequested --> Approved\nRequested --> Rejected\nApproved --> Provisioned\nProvisioned --> Expired\nExpired --> [*]"}
          ]
        }
      }
    };

    // Load examples configuration
    async function loadExamplesConfig() {
      try {
        // Try to load from external files first (when served via HTTP)
        const response = await fetch('./examples/config.json');
        if (!response.ok) throw new Error('Failed to fetch config');
        examplesConfig = await response.json();
        await createCategoryDropdowns();
        console.log('Loaded examples from external files');
      } catch (error) {
        console.log('External files not available, using embedded examples');
        // Fallback to embedded examples (for file:// protocol)
        examplesConfig = embeddedExamples;
        await createCategoryDropdowns();
      }
    }

    // Create category dropdown menus
    async function createCategoryDropdowns() {
      const container = document.getElementById('category-dropdowns');
      if (!container || !examplesConfig) return;

      for (const [categoryId, category] of Object.entries(examplesConfig.categories)) {
        const dropdownDiv = document.createElement('div');
        dropdownDiv.className = 'dropdown';
        
        const button = document.createElement('button');
        button.className = 'dropdown-toggle';
        button.textContent = category.name;
        button.setAttribute('aria-expanded', 'false');
        button.onclick = () => toggleDropdown(categoryId);
        
        // Add dropdown icon
        const icon = document.createElement('span');
        icon.className = 'dropdown-icon';
        icon.innerHTML = '▼';
        button.appendChild(icon);
        
        const content = document.createElement('div');
        content.className = 'dropdown-menu';
        content.id = `dropdown-${categoryId}`;
        
        // Add examples to dropdown
        for (const example of category.examples) {
          const item = document.createElement('button');
          item.className = 'dropdown-item';
          item.textContent = example.title;
          item.onclick = () => loadExample(example.file || example.id, example.content);
          content.appendChild(item);
        }
        
        dropdownDiv.appendChild(button);
        dropdownDiv.appendChild(content);
        container.appendChild(dropdownDiv);
      }
    }

    // Toggle dropdown visibility
    window.toggleDropdown = function(categoryId) {
      // Close all other dropdowns
      document.querySelectorAll('.dropdown-menu').forEach(content => {
        if (content.id !== `dropdown-${categoryId}`) {
          content.classList.remove('show');
        }
      });
      
      document.querySelectorAll('.dropdown-toggle').forEach(btn => {
        if (btn.getAttribute('aria-expanded') === 'true' && !btn.textContent.includes(examplesConfig.categories[categoryId].name)) {
          btn.setAttribute('aria-expanded', 'false');
        }
      });

      // Toggle current dropdown
      const dropdown = document.getElementById(`dropdown-${categoryId}`);
      const button = dropdown.previousElementSibling;
      const isOpen = button.getAttribute('aria-expanded') === 'true';
      
      button.setAttribute('aria-expanded', !isOpen);
      dropdown.classList.toggle('show', !isOpen);
    };

    // Load example from file or embedded content
    async function loadExample(filename, embeddedContent) {
      try {
        let content;
        
        if (embeddedContent !== undefined) {
          // Use embedded content (fallback mode)
          content = embeddedContent;
        } else {
          // Try to load from external file
          const response = await fetch(`./examples/${filename}`);
          content = await response.text();
        }
        
        window.setExample(content);
        
        // Close all dropdowns
        document.querySelectorAll('.dropdown-menu').forEach(content => {
          content.classList.remove('show');
        });
        document.querySelectorAll('.dropdown-toggle').forEach(btn => {
          btn.setAttribute('aria-expanded', 'false');
        });
      } catch (error) {
        console.error('Failed to load example:', error);
        // If embedded content is available, use it as final fallback
        if (embeddedContent !== undefined) {
          window.setExample(embeddedContent);
        }
      }
    }

    // Close dropdowns when clicking outside
    document.addEventListener('click', function(event) {
      if (!event.target.closest('.dropdown')) {
        document.querySelectorAll('.dropdown-menu').forEach(content => {
          content.classList.remove('show');
        });
        document.querySelectorAll('.dropdown-toggle').forEach(btn => {
          btn.setAttribute('aria-expanded', 'false');
        });
      }
    });
  
    // Theme cycling function
    window.cycleTheme = function() {
      const themes = ['light', 'dark', 'colorful'];
      themeIndex = (themeIndex + 1) % themes.length;
      const newTheme = themes[themeIndex];
      
      if (newTheme === 'light') {
        document.documentElement.removeAttribute('data-theme');
      } else {
        document.documentElement.setAttribute('data-theme', newTheme);
      }
      
      // Update theme toggle button text
      const toggleBtn = document.querySelector('.theme-toggle');
      if (toggleBtn) {
        const icons = ['🌞', '🌙', '🎨'];
        toggleBtn.textContent = icons[themeIndex];
      }
    };

    // Layout toggle function
    window.toggleLayout = function() {
      const editorSection = document.querySelector('.editor-section');
      const layoutToggleBtn = document.querySelector('.layout-toggle');
      
      isVerticalLayout = !isVerticalLayout;
      
      if (isVerticalLayout) {
        editorSection.classList.add('vertical-layout');
        layoutToggleBtn.textContent = '⬍'; // Vertical icon
        layoutToggleBtn.title = 'Switch to Horizontal Layout';
      } else {
        editorSection.classList.remove('vertical-layout');
        layoutToggleBtn.textContent = '⬌'; // Horizontal icon
        layoutToggleBtn.title = 'Switch to Vertical Layout';
      }
    };
  
    // Expose setExample so inline onClick can call it
    window.setExample = function(example) {
      const input = document.getElementById("mermaid-input");
      input.value = example;
      renderMermaid();
    };
  
    // Render the current Mermaid code
    async function renderMermaid() {
      const input = document.getElementById("mermaid-input");
      const output = document.getElementById("mermaid-output");
      if (!input || !output) return;
  
      try {
        // Generate a unique ID for each render to avoid conflicts
        const diagramId = 'mermaid-' + Date.now();
        
        // Clear any previous diagram to prevent conflicts
        output.innerHTML = '';
        
        const { svg } = await mermaid.mermaidAPI.render(diagramId, input.value);
        
        // Firefox-specific SVG fixes
        let processedSvg = svg;
        
        // Fix for Firefox foreignObject rendering
        if (navigator.userAgent.toLowerCase().indexOf('firefox') > -1) {
          // Add explicit namespace for better Firefox compatibility
          processedSvg = processedSvg.replace(
            '<svg',
            '<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"'
          );
          
          // Fix foreignObject width/height issues in Firefox
          processedSvg = processedSvg.replace(
            /foreignObject\s+width="([^"]+)"\s+height="([^"]+)"/g,
            (match, width, height) => {
              // Ensure dimensions are properly set for Firefox
              const numWidth = parseFloat(width) || 100;
              const numHeight = parseFloat(height) || 50;
              return `foreignObject width="${numWidth}" height="${numHeight}" overflow="visible"`;
            }
          );
        }
        
        output.innerHTML = processedSvg;
        
        // Apply additional Firefox-specific fixes after rendering
        if (navigator.userAgent.toLowerCase().indexOf('firefox') > -1) {
          const svgElement = output.querySelector('svg');
          if (svgElement) {
            // Ensure proper viewBox for Firefox
            if (!svgElement.getAttribute('viewBox')) {
              const bbox = svgElement.getBBox();
              svgElement.setAttribute('viewBox', `0 0 ${bbox.width + 40} ${bbox.height + 40}`);
            }
            
            // Fix text elements in Firefox
            const textElements = svgElement.querySelectorAll('text');
            textElements.forEach(text => {
              // Force text rendering recalculation in Firefox
              const transform = text.getAttribute('transform') || '';
              text.setAttribute('transform', transform);
            });
          }
        }
      } catch (err) {
        output.innerHTML = `<div class="preview-error">Error: ${err.message}</div>`;
        
        // Clean up any partial renders
        const partialSvg = document.querySelector('#' + (err.id || 'generatedDiagram'));
        if (partialSvg) {
          partialSvg.remove();
        }
      }
    }
  
    // Expose renderMermaid globally for share functionality
    window.renderMermaid = renderMermaid;

    // Once the DOM is ready, init everything
    document.addEventListener("DOMContentLoaded", async () => {
      // Initialize Mermaid
      mermaid.initialize({
        startOnLoad: false,
        theme: 'default',
        flowchart: {
          nodeSpacing: 50,        // horizontal spacing between nodes
          rankSpacing: 50,        // vertical spacing between ranks
          padding: 30,            // padding inside nodes
          htmlLabels: true,       // Use HTML labels for better cross-browser compatibility
          curve: 'basis',         // or 'linear', 'step', etc.
          wrappingWidth: 200,     // Increased wrap width for better text display
          useMaxWidth: true,
        },
        themeVariables: {
          primaryColor: '#fff',
          primaryBorderColor: '#333',
          nodeBkg: '#fff',
          nodeBorder: '#333',
          mainBkg: '#fff',
          tertiaryColor: '#fff'
        }
      });

      // Load examples and create dropdowns
      await loadExamplesConfig();
      
      // Set initial dark theme
      document.documentElement.setAttribute('data-theme', 'dark');
      const toggleBtn = document.querySelector('.theme-toggle');
      if (toggleBtn) {
        toggleBtn.textContent = '🌙'; // Dark theme icon
      }

      // Set initial vertical layout
      const editorSection = document.querySelector('.editor-section');
      const layoutToggleBtn = document.querySelector('.layout-toggle');
      if (editorSection && layoutToggleBtn) {
        editorSection.classList.add('vertical-layout');
        layoutToggleBtn.textContent = '⬍'; // Vertical icon
        layoutToggleBtn.title = 'Switch to Horizontal Layout';
      }
      
      // Only set default example if no diagram in URL
      const hash = window.location.hash;
      if (!hash || !hash.startsWith('#diagram=')) {
        // Set default example
        window.setExample(`flowchart TD
    A[Start] --> B{Decision}
    B -- Yes --> C[Do something]
    B -- No --> D[Do something else]
    C --> E[End]
    D --> E`);
      }

      // Initial diagram render + live re-renders
      const input = document.getElementById("mermaid-input");
      if (input) {
        input.addEventListener("input", renderMermaid);
      }
    });
  </script>

  <!-- Share Link Modal -->
  <div id="modal-overlay" class="modal-overlay" onclick="closeShareModal()"></div>
  <div id="share-modal" class="share-modal">
    <h3>🔗 Share Your Diagram</h3>
    <p class="text-muted">Copy this link to share your diagram with others:</p>
    <div class="share-input-group">
      <input type="text" id="share-link" class="share-input" readonly>
      <button class="btn btn-primary" onclick="copyShareLink()">📋 Copy</button>
    </div>
    <div id="copy-feedback" class="copy-feedback">✅ Link copied to clipboard!</div>
    <button class="btn btn-secondary" onclick="closeShareModal()" style="margin-top: var(--space-md);">Close</button>
  </div>

  <!-- Additional JavaScript for sharing functionality -->
  <script>
    // Generate shareable link
    window.generateShareLink = function() {
      const input = document.getElementById('mermaid-input');
      const code = input.value;
      
      if (!code || code.trim() === '') {
        alert('Please enter some diagram code first!');
        return;
      }
      
      // Compress the diagram code using LZ-String
      const compressed = LZString.compressToEncodedURIComponent(code);
      
      // Generate the shareable URL
      const baseUrl = window.location.origin + window.location.pathname;
      const shareUrl = `${baseUrl}#diagram=${compressed}`;
      
      // Show the modal with the link
      const modal = document.getElementById('share-modal');
      const overlay = document.getElementById('modal-overlay');
      const linkInput = document.getElementById('share-link');
      
      linkInput.value = shareUrl;
      modal.classList.add('show');
      overlay.classList.add('show');
      
      // Select the text for easy copying
      linkInput.select();
    };
    
    // Export to PNG function
    window.exportToPNG = function() {
      const svgElement = document.querySelector('#mermaid-output svg');
      
      if (!svgElement) {
        alert('Please create a diagram first!');
        return;
      }
      
      // Clone the SVG to avoid modifying the original
      const svgClone = svgElement.cloneNode(true);
      
      // Get dimensions using multiple methods for cross-browser compatibility
      let width, height;
      
      // Try viewBox first (most reliable)
      const viewBox = svgElement.getAttribute('viewBox');
      if (viewBox) {
        const [, , vbWidth, vbHeight] = viewBox.split(' ').map(Number);
        width = vbWidth + 40;
        height = vbHeight + 40;
      } else {
        // Fall back to width/height attributes
        width = parseFloat(svgElement.getAttribute('width') || svgElement.style.width || '800') + 40;
        height = parseFloat(svgElement.getAttribute('height') || svgElement.style.height || '600') + 40;
      }
      
      // Set explicit dimensions on the cloned SVG
      svgClone.setAttribute('width', width - 40);
      svgClone.setAttribute('height', height - 40);
      svgClone.style.width = (width - 40) + 'px';
      svgClone.style.height = (height - 40) + 'px';
      
      // Get the SVG string
      const svgString = new XMLSerializer().serializeToString(svgClone);
      
      // Create a canvas element
      const canvas = document.createElement('canvas');
      const ctx = canvas.getContext('2d');
      
      // Set canvas dimensions with scale for better quality
      const scale = 2;
      canvas.width = width * scale;
      canvas.height = height * scale;
      ctx.scale(scale, scale);
      
      // Create an image from the SVG
      const img = new Image();
      
      // Create a data URL with proper encoding for cross-browser support
      const svgData = 'data:image/svg+xml;base64,' + btoa(unescape(encodeURIComponent(svgString)));
      
      img.onload = function() {
        // Fill with white background
        ctx.fillStyle = 'white';
        ctx.fillRect(0, 0, width, height);
        
        // Draw the image centered
        ctx.drawImage(img, 20, 20, width - 40, height - 40);
        
        // Add subtle branding in bottom-right corner
        ctx.save();
        ctx.font = '12px Inter, system-ui, sans-serif';
        ctx.fillStyle = 'rgba(0, 0, 0, 0.3)';
        ctx.textAlign = 'right';
        ctx.textBaseline = 'bottom';
        ctx.fillText('SimpleMermaid.com', width - 10, height - 8);
        ctx.restore();
        
        // Convert to PNG and download
        canvas.toBlob(function(blob) {
          const link = document.createElement('a');
          link.download = 'mermaid-diagram.png';
          link.href = URL.createObjectURL(blob);
          link.click();
          
          // Clean up
          setTimeout(() => URL.revokeObjectURL(link.href), 100);
        }, 'image/png');
      };
      
      img.onerror = function() {
        alert('Failed to export diagram. Please try again.');
      };
      
      img.src = svgData;
    };
    
    // Export to PDF function
    window.exportToPDF = function() {
      const svgElement = document.querySelector('#mermaid-output svg');
      
      if (!svgElement) {
        alert('Please create a diagram first!');
        return;
      }
      
      // Clone the SVG to avoid modifying the original
      const svgClone = svgElement.cloneNode(true);
      
      // Get dimensions using multiple methods for cross-browser compatibility
      let width, height;
      
      // Try viewBox first (most reliable)
      const viewBox = svgElement.getAttribute('viewBox');
      if (viewBox) {
        const [, , vbWidth, vbHeight] = viewBox.split(' ').map(Number);
        width = vbWidth + 40;
        height = vbHeight + 40;
      } else {
        // Fall back to width/height attributes
        width = parseFloat(svgElement.getAttribute('width') || svgElement.style.width || '800') + 40;
        height = parseFloat(svgElement.getAttribute('height') || svgElement.style.height || '600') + 40;
      }
      
      // Set explicit dimensions on the cloned SVG
      svgClone.setAttribute('width', width - 40);
      svgClone.setAttribute('height', height - 40);
      svgClone.style.width = (width - 40) + 'px';
      svgClone.style.height = (height - 40) + 'px';
      
      // Get the SVG string
      const svgString = new XMLSerializer().serializeToString(svgClone);
      
      // Create a canvas element
      const canvas = document.createElement('canvas');
      const ctx = canvas.getContext('2d');
      
      // Set canvas dimensions
      const scale = 2;
      canvas.width = width * scale;
      canvas.height = height * scale;
      ctx.scale(scale, scale);
      
      // Create image from SVG using data URL for cross-browser support
      const img = new Image();
      const svgData = 'data:image/svg+xml;base64,' + btoa(unescape(encodeURIComponent(svgString)));
      
      img.onload = function() {
        // Fill with white background
        ctx.fillStyle = 'white';
        ctx.fillRect(0, 0, width, height);
        
        // Draw the image
        ctx.drawImage(img, 20, 20, width - 40, height - 40);
        
        // Add subtle branding in bottom-right corner
        ctx.save();
        ctx.font = '12px Inter, system-ui, sans-serif';
        ctx.fillStyle = 'rgba(0, 0, 0, 0.3)';
        ctx.textAlign = 'right';
        ctx.textBaseline = 'bottom';
        ctx.fillText('SimpleMermaid.com', width - 10, height - 8);
        ctx.restore();
        
        // Check if jsPDF is already loaded
        if (!window.jspdf) {
          // Load jsPDF from CDN
          const script = document.createElement('script');
          script.src = 'https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js';
          script.onload = function() {
            generatePDF();
          };
          script.onerror = function() {
            alert('Failed to load PDF library. Please check your internet connection and try again.');
          };
          document.head.appendChild(script);
        } else {
          generatePDF();
        }
        
        function generatePDF() {
          const { jsPDF } = window.jspdf;
          
          // Create PDF with appropriate dimensions
          const pdfWidth = width / 72 * 25.4; // Convert to mm
          const pdfHeight = height / 72 * 25.4;
          const pdf = new jsPDF({
            orientation: pdfWidth > pdfHeight ? 'landscape' : 'portrait',
            unit: 'mm',
            format: [pdfWidth, pdfHeight]
          });
          
          // Add the image to PDF
          const imgData = canvas.toDataURL('image/png');
          pdf.addImage(imgData, 'PNG', 0, 0, pdfWidth, pdfHeight);
          
          // Download the PDF
          pdf.save('mermaid-diagram.pdf');
        }
      };
      
      img.onerror = function() {
        alert('Failed to export diagram. Please try again.');
      };
      
      img.src = svgData;
    };
    
    // Copy share link to clipboard
    window.copyShareLink = function() {
      const linkInput = document.getElementById('share-link');
      linkInput.select();
      
      // Try modern clipboard API first
      if (navigator.clipboard && navigator.clipboard.writeText) {
        navigator.clipboard.writeText(linkInput.value).then(() => {
          showCopyFeedback();
        }).catch(() => {
          fallbackCopy();
        });
      } else {
        fallbackCopy();
      }
      
      function fallbackCopy() {
        try {
          document.execCommand('copy');
          showCopyFeedback();
        } catch (err) {
          alert('Failed to copy. Please copy manually.');
        }
      }
    };
    
    // Show copy feedback
    function showCopyFeedback() {
      const feedback = document.getElementById('copy-feedback');
      feedback.classList.add('show');
      setTimeout(() => {
        feedback.classList.remove('show');
      }, 2000);
    }
    
    // Close share modal
    window.closeShareModal = function() {
      const modal = document.getElementById('share-modal');
      const overlay = document.getElementById('modal-overlay');
      modal.classList.remove('show');
      overlay.classList.remove('show');
    };
    
    // Load diagram from URL on page load
    window.addEventListener('DOMContentLoaded', function() {
      // Check if there's a diagram in the URL hash
      const hash = window.location.hash;
      if (hash && hash.startsWith('#diagram=')) {
        const compressed = hash.substring(9); // Remove '#diagram=' prefix
        
        try {
          // Decompress the diagram code
          const decompressed = LZString.decompressFromEncodedURIComponent(compressed);
          
          if (decompressed) {
            // Set the diagram in the editor
            const input = document.getElementById('mermaid-input');
            input.value = decompressed;
            
            // Trigger rendering after a small delay to ensure Mermaid is initialized
            setTimeout(() => {
              if (window.renderMermaid) {
                window.renderMermaid();
              } else {
                // If renderMermaid is not available yet, trigger input event
                input.dispatchEvent(new Event('input'));
              }
            }, 500);
          }
        } catch (err) {
          console.error('Failed to load diagram from URL:', err);
        }
      }
    });
    
    // Update URL when diagram changes (optional - for browser history)
    let updateUrlTimeout;
    window.addEventListener('DOMContentLoaded', function() {
      const input = document.getElementById('mermaid-input');
      if (input) {
        input.addEventListener('input', function() {
          // Clear previous timeout
          clearTimeout(updateUrlTimeout);
          
          // Update URL after user stops typing for 2 seconds
          updateUrlTimeout = setTimeout(() => {
            const code = input.value;
            if (code && code.trim() !== '') {
              const compressed = LZString.compressToEncodedURIComponent(code);
              const newHash = `#diagram=${compressed}`;
              
              // Update URL without triggering page reload
              if (window.history && window.history.replaceState) {
                window.history.replaceState(null, null, newHash);
              }
            }
          }, 2000);
        });
      }
    });
  </script>
</body>
</html>